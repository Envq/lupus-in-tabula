{% extends 'base.html' %}

{% block content %}

<div class="row mt-3">
  <div class="col-6">
    <input type="submit" class="btn" value="" style="background-color: {{ colors.mago }};
                                       width: 15px;
                                       height: 25px;">
    <span>MAGATO</span>
  </div>
  <div class="col-6">
    <input type="submit" class="btn" value="" style="background-color: {{ colors.guardia }};
                                       width: 15px;
                                       height: 25px;">
    <span>PROTETTO</span>
  </div>
</div>
<div class="row mb-3">
  <div class="col-6">
    <input type="submit" class="btn" value="" style="background-color: {{ colors.untore }};
                                       width: 15px;
                                       height: 25px;">
    <span>UNTO</span>
  </div>
  <div class="col-6">
    <input type="submit" class="btn" value="" style="background-color: {{ colors.lupo }};
                                       width: 15px;
                                       height: 25px;">
    <span>UCCISO</span>
  </div>
</div>
{% for name, role in players.items() %}
  <div class="row justify-content-center" id="row{{ name }}">
    <div class="col-5" onClick="change{{ name }}()">
      <p class="my-2">{{ name }}</p>
    </div>
    <div class="col-5" onClick="change{{ name }}()">
      <p class="my-2">{{ role }}</p>
    </div>
    <div class="col-2" onClick="kill{{ name }}()">
      <p class="my-2">X</p>
    </div>
  </div>
  <script>
  var color{{ name }} = 0;
  function change{{ name }}() {
    if (window.color{{ name }} == 0) {
      document.getElementById("row{{ name }}").style.backgroundColor = '{{ colors.mago }}';
      window.color{{ name }} = 1;
    }
    else if (window.color{{ name }} == 1) {
      document.getElementById("row{{ name }}").style.backgroundColor = '{{ colors.guardia }}';
      window.color{{ name }} = 2;
    }
    else if (window.color{{ name }} == 2) {
      document.getElementById("row{{ name }}").style.backgroundColor = '{{ colors.untore }}';
      window.color{{ name }} = 3;
    }
    else if (window.color{{ name }} == 3) {
      document.getElementById("row{{ name }}").style.backgroundColor = '{{ colors.lupo }}';
      window.color{{ name }} = 4;
    }
    else if (window.color{{ name }} == 4) {
      document.getElementById("row{{ name }}").style.backgroundColor = 'white';
      window.color{{ name }} = 0;
    };
  };
  function kill{{ name }}() {
    document.getElementById("row{{ name }}").innerHTML = "";
  };
  </script>
{% endfor %}

{% endblock content %}
